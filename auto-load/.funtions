# Extract many types of compressed packages
# Credit: http://nparikh.org/notes/zshrc.txt
extract () {
  if [ -f $1 ]; then
    case $1 in
      *.tar.bz2) tar -jxvf $1 ;;
      *.tar.gz) tar -zxvf $1 ;;
      *.bz2) bunzip2 $1 ;;
      *.dmg) hdiutil mount $1 ;;
      *.gz) gunzip $1 ;;
      *.tar) tar -xvf $1 ;;
      *.tbz2) tar -jxvf $1 ;;
      *.tgz) tar -zxvf $1 ;;
      *.zip) unzip $1 ;;
      *.ZIP) unzip $1 ;;
      *.pax) cat $1 | pax -r ;;
      *.pax.Z) uncompress $1 —stdout | pax -r ;;
      *.Z) uncompress $1 ;;
      *) echo "'$1' cannot be extracted/mounted via extract()";;
   esac
 else
   echo "'$1' is not a valid file to extract"
 fi
}

mcd () {
    mkdir -p $1
    cd $1
}

bak () {
  for f in $@;do
    f=$(basename $f)
    cp -r $f $f.$(date +"%d-%m-%Y").bak || sudo cp -r $f $f.$(date +"%d-%m-%Y").bak
  done
}

procesos(){
  # By default, it display the list of processes based on the cpu and memory usage #
  if [ $# -eq 0 ]
  then

    echo "\n\nLos 10 más come-procesador: "
    # ps -e -o pcpu,args | sort -rg -k1 | head -n 10
    ps -e -o pcpu,args --sort=-pcpu  | head -n 10      # sorted based on %cpu
    echo "\n\nLos 10 más come-ram: "
    ps -e -o pmem,args --sort=-pmem  | head -n 10 

  # If arguements are given (mem/cpu)
  else
    case "$1" in
    cpu)
     echo "Los 10 más come-procesador: "
     ps -e -o pcpu,args --sort=-pcpu  | head -n 10
     ;;
    mem)
     echo "Los 10 más come-ram: "
     ps -e -o pmem,args --sort=-pmem  | head -n 10 
     ;;
    *)
      echo "Invalid Argument Given \n"
      echo "Usage : $0 mem/cpu"
      exit 1
    esac  

  fi
}
wd() {
    . ~/bin/wd/wd.sh
}

montar(){
  sudo mkdir /mnt/$1/
  sudo mount -o loop $1 /mnt/$1/

}

web_serve() {
  python -m SimpleHTTPServer ${1:-8000}
}